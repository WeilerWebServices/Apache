<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<html>
<head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <script type="text/javascript">var xookiConfig = {level: 2};</script>   
    <script type="text/javascript" src="../../xooki/xooki.js"></script>
</head>
<body>
    <textarea id="xooki-source">
<h1>registerartifact task</h1>

<h2>Description</h2>
<p>
This targets is in charge to register a given artifact to ivy context. In other words, this targets is responsible of generating the right <publications> elements in the publicated module.ivy file.
This targets is pretty usefull for plugin writers if they want to hide some complexities to the end user.
End user will not have to define <publications> elements if they use test-jar plugins for example.
registerartifact is a PostResolveTask
</p>

<h2>Arguments</h2>
<table class="sortable" id="arguments">
  <thead>
    <tr>
      <th>Parameter name</th>
      <th class="unsortable">Description</th>
      <th>Mandatory</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>name</td>
      <td>the name of the published artifact. This name must not include revision.</td>
      <td>No, default to the name of the module</td>
    </tr>
    <tr>
      <td>type</td>
      <td>the type of the published artifact. It's usually its extension, but not necessarily. For instance, ivy files are of type 'ivy' but have 'xml' extension</td>
      <td>No, defautls to jar</td>
    </tr>
    <tr>
      <td>ext</td>
      <td>the extension of the published artifact</td>
      <td>No, defaults to type</td>
    </tr>
    <tr>
      <td>confs</td>
      <td>comma separated list of public configurations in which this artifact is published. '*' wildcard can be used to designate all public configurations of this module.</td>
      <td>No, defaults to defaultconf attribute value on parent publications elements</td>
    </tr>

    <tr>
      <td>classifier</td>
      <td>acts as a maven classifier.</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2>Example</h2>
Register test-jar artifact with type "test-jar" 
<code type="xml">
  <ea:registerartifact ext="jar" type="test-jar" settingsRef="${project.ivy.instance}"/>
</code>

Register test-jar artifact with type "test-jar" and classifier "test" to be maven compatible
<code type="xml">
  <ea:registerartifact ext="jar" type="test-jar" classifier="test" settingsRef="${project.ivy.instance}"/>
</code>
</textarea>
<script type="text/javascript">xooki.postProcess();</script>
</body>
</html>
